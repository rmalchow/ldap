<div>
	<div id="login-overlay">
	</div>
	<div id="login-info-bottom">
		<b>{{login.door.author}}</b> <i>{{login.door.title}}</i> 
		<a href="{{login.door.link}}" ng-if="login.door.link">
			<i class="fas fa-external-link-square-alt"></i> 
		</a>
	</div>
	<div id="login-row">
		<div id="login-box">
			<div class="row" ng-if="!reset.user.id">
				<div class="col-md-12">
					<div class="form-group">
						<B style="font-size: 1.5em">Reset Password</b></h4>
					</div>
				</div>				
				<div class="col-md-12">
					<div class="form-group">
						Please enter your username. If we find a matching account, we will send you an email with further instructions.
					</div>
				</div>
				<div class="col-md-12">
					<div class="form-group">
						<div class="input-group">
							<input class="form-control" placeholder="Enter username" ng-model="reset.username" ng-disabled="reset.initiateStep != 1">
							<div class="input-group-append">
								<button class="btn btn-primary" ng-click="reset.initiateReset()" ng-disabled="reset.initiateStep != 1">
									Get token
									<i class="fas fa-paper-plane"></i>
								</button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-12" ng-if="reset.initiateStep == 2">
					<div class="form-group">
						<input class="form-control" placeholder="Enter token" ng-model="reset.token" >
					</div>
					<div class="form-group clearfix">
						<div class="float-right">
							<button 
								class="btn btn-primary" 
								ng-click="reset.completeReset()">
								Confirm
								<i class="fas fa-envelope-open-text"></i>
							</button>
						</div>
					</div>
				</div>
				<div class="col-md-12" ng-if="reset.initiateStep == -1">
					<div class="form-group">
						<div class="alert alert-danger">
							The reset has failed. Please try again later.
						</div>
					</div>
				</div>
				<div class="col-md-12" ng-if="reset.initiateStep == 3">
					<div class="form-group">
						<div class="alert alert-info">
							Please wait ... 
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="form-group clearfix">
						<div class="float-right">
							<a ng-href="#/login" class="text-reset fs-6">
								cancel
							</a>
						</div>
					</div>
				</div>
			</div>
			<div class="row" ng-if="reset.user.id">
				<div class="col-md-12">
					<div class="col-md-12">
						<div class="form-group">
							<B style="font-size: 1.5em">Update Password</b></h4>
						</div>
					</div>				
				</div>				
				<div class="col-md-12">
					<div class="form-group">
						Your password needs to be updated. Please enter a new password below, then enter it again to confirm.
					</div>
				</div>
				<div class="col-md-12">
					<div class="form-group">
						<input class="form-control" type="password"  placeholder="Password" ng-model="reset.pw.pw1" ng-change="reset.check(reset.pw)">
						<div class="progress" style="height: 3px;">
						  <div class="progress-bar bg-success" role="progressbar" ng-style="reset.pw.progressWidth" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
						</div>
					</div>
					<div class="form-group">
						<input class="form-control" type="password" ng-disabled="reset.pw.progress < 100" placeholder="Repeat" ng-model="reset.pw.pw2" ng-change="reset.check(reset.pw)">
					</div>
				</div>
				<div class="col-md-12" ng-if="reset.step == -1 || reset.step == -2">
					<div class="form-group clearfix">
						<div>
							<div class="alert alert-info" ng-if="reset.step == -1">Please wait ... </div>
							<div class="alert alert-danger" ng-if="reset.step == -2">Reset failed!</div>
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="form-group clearfix">
						<div class="float-right">
							<button class="btn btn-primary" ng-disabled="!reset.pw.ok" ng-click="reset.updatePassword()">
								Update
								<i class="fas fa-sign-in-alt"></i>
							</button>
						</div>
					</div>
				</div>
				<div class="col-md-12">
					<div class="form-group clearfix">
						<div class="float-right">
							<a href="#/reset" class="text-reset fs-6" ng-click="reset.cancel()">
								Cancel
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
